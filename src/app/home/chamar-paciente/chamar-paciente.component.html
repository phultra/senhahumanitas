<section style="background-color: #003366; color: white; height: 100vh;">
  <div class="container pt-5">
    <h2 class="text-center">Chamar Paciente</h2>

    <!-- Seleção do médico -->
    <div class="form-group mt-4">
      <label for="medico">Selecione o Médico:</label>
      <select
        id="medico"
        class="form-control"
        [(ngModel)]="medicoSelecionado"
      >
        <option value="" disabled selected>Escolha um médico</option>
        <option *ngFor="let medico of medicos" [value]="medico.nome">
          {{ medico.nome }}
        </option>
      </select>
    </div>

    <!-- Seleção do consultório -->
    <div class="form-group mt-4">
      <label for="consultorio">Selecione o Consultório:</label>
      <select
        id="consultorio"
        class="form-control"
        [(ngModel)]="consultorioSelecionado"
      >
        <option value="" disabled selected>Escolha um consultório</option>
        <option *ngFor="let consultorio of consultorios" [value]="consultorio.numero">
          {{ consultorio.numero }}
        </option>
      </select>
    </div>

    <!-- Botão para chamar paciente -->
    <div class="text-center mt-4">
      <button
        class="btn btn-primary"
        [disabled]="!medicoSelecionado || !consultorioSelecionado"
        (click)="chamarPaciente()"
      >
        Chamar Paciente
      </button>
    </div>

    <!-- Lista de pacientes -->
    <div class="mt-5" *ngIf="pacientes.length > 0">
      <h3 class="text-center">Lista de Pacientes</h3>
      <ul class="list-group">
        <li
          *ngFor="let paciente of pacientes"
          class="list-group-item d-flex justify-content-between align-items-center"
          [class.active]="paciente === pacienteAtual"
        >
          <span>
            <strong>Nome:</strong> {{ paciente.nome }}
          </span>
          <!-- Botão de finalizar atendimento aparece apenas para o paciente atual -->
          <button
            *ngIf="paciente === pacienteAtual"
            class="btn btn-danger btn-sm"
            (click)="finalizarAtendimento(paciente)"
          >
            Finalizar Atendimento
          </button>
        </li>
      </ul>
    </div>
  </div>
</section>
